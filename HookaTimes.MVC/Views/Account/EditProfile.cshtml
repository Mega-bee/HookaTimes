@{
    ViewData["Title"] = "Edit Profile";
}

@model CompleteProfileMVC_VM

<style>
    /*form*/
    .mt-150 {
        margin-top: 0px;
    }

    h2 {
        font-size: 1.2em;
        font-weight: 700;
    }

    .block-container {
        border: 1px solid #eee;
        box-shadow: 0px 2px 27px 0px rgb(154 161 171 / 18%);
        padding: 20px 20px 30px;
        margin-bottom: 30px;
        background: #fff;
    }

    .mt-30 {
        margin-top: 30px;
    }

    .mb-15 {
        margin-bottom: 15px;
    }

    .all-edus, .all-exps {
        border: 1px solid #eee;
        box-shadow: 0px 2px 27px 0px rgb(154 161 171 / 18%);
        padding: 20px 20px 30px;
        margin-bottom: 15px;
        background: #fff;
    }

    .btn-info {
        color: #fff;
        background-color: #ffd333;
        border-color: #ffd333;
    }

        .btn-info:hover {
            color: #fff;
            background-color: #ffd333;
            border-color: #ffd333;
        }

        .btn-info:not(:disabled):not(.disabled).active, .btn-info:not(:disabled):not(.disabled):active, .show > .btn-info.dropdown-toggle {
            color: #fff;
            background-color: #ffd333;
            border-color: #ffd333;
        }

        .btn-info.focus, .btn-info:focus {
            color: #fff;
            background-color: #ffd333;
            border-color: #ffd333;
            box-shadow: 0 0 0 0.2rem rgb(58 176 195 / 50%);
        }

    .d-block {
        display: block !important;
        width: 100%;
        height: 100%;
    }

    .edit-form {
        display: flex;
        flex-direction: column;
    }

    .update-button {
        transition: all 0.1s ease-in-out;
        font-size: 1.1rem;
        line-height: 1.5;
        padding: 0.375rem 3rem;
        font-weight: 500;
        border-color: #ffd333;
        background: #ffd333;
        color: #3d464d;
        fill: #3d464d;
        margin-left: auto;
    }


    .col-lg-2 {
    
    width: 16.9%;
    height: 10em;
}
</style>



<div class="site__body">
    <div class="page-header">
        <div class="page-header__container container">
            <div class="page-header__breadcrumb">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a asp-controller="home">Home</a>
                            <svg class="breadcrumb-arrow" width="6px" height="9px">
                                <use xlink:href="/FrontendAssets/images/sprite.svg#arrow-rounded-right-6x9"></use>
                            </svg>
                        </li>

                        <li class="breadcrumb-item active" aria-current="page">Edit Profile</li>
                    </ol>
                </nav>
            </div>
            <div class="page-header__title">
                @*<h1>My Account</h1>*@
            </div>
        </div>
    </div>
    <div class="block">
        <div class="container">
            <div class="row">
                
                     <div class="col-12 col-lg-3 d-flex">
                    <partial name="/Views/Shared/Ecommerce/_AccountNavigationPartial.cshtml" />

                </div>
                
                <div class="col-12 col-lg-9 mt-4 mt-lg-0">
                    <div class="card">
                        <div class="card-header">
                            <h5>Edit Profile</h5>
                        </div>
                        <div class="card-divider"></div>
                        <div class="card-body">



                            <form class="edit-form " method="post" role="form" enctype="multipart/form-data" asp-action="CompleteProfile" asp-controller="Account">
                                <div class="mt-150">
                                    <h2>Personal Info</h2>
                                    <div class="block-container">
                                        <div class="row align-items-center">
                                            <div class="col-lg-2 col-md-4">
                                                <img src="@(Model.Image ?? "https://geeko.netlify.app/img/test-img/1.jpg")" class="d-block img-Big" alt="" />
                                            </div>
                                            <div class="col-lg-5 col-md-8 mt-s">
                                                <h6 class="">Upload your picture</h6>
                                                <p class="text-muted mb-0">
                                                    For best results, use image 300px by 300px in either
                                                    .jpg or .png
                                                </p>
                                            </div>
                                            <div class="col-lg-5 col-md-12 mt-s">

                                                <label for="ImageFile" class="btn btn-primary">
                                                    Upload

                                                    <input hidden type="file" asp-for="ImageFile" class="form-control form-control-file" id="ImageFile" name="ImageFile" value="" accept="image/*">
                                                </label>

                                                @*<input hidden type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />*@
                                                @*<a href="#" class="btn btn-soft-primary ms-2">Remove</a>*@
                                            </div>
                                        </div>
                                        <div class="mt-30">
                                            <div class="row">
                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="FirstName">First Name:</label>
                                                    <input asp-for="FirstName" type="text"
                                                           class="form-control"
                                                           placeholder="enter your first name" />
                                                    <span asp-validation-for="FirstName" class="text-danger"></span>

                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="LastName">Last Name:</label>
                                                    <input asp-for="LastName" type="text"
                                                           class="form-control"
                                                           placeholder="enter your last name " />
                                                    <span asp-validation-for="LastName" class="text-danger"></span>

                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Birthdate">Date of birth:</label>
                                                    <input asp-for="Birthdate" type="date" class="form-control" id="birthdaytime">
                                                    <span asp-validation-for="Birthdate" class="text-danger"></span>

                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label>Gender:</label>
                                                    <select asp-for="GenderId" asp-items="Html.GetEnumSelectList<GenderEnum>()" class="form-control">
                                                        <option>Please Select</option>
                                                    </select>
                                                    <span asp-validation-for="GenderId" class="text-danger"></span>

                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Height">Height</label>
                                                    <input asp-for="Height"
                                                           type="text"
                                                           class="form-control allownumericwithdecimal"
                                                           placeholder="enter your height" />
                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Weight">Weight</label>
                                                    <input asp-for="Weight"
                                                           type="text"
                                                           class="form-control allownumericwithdecimal"
                                                           placeholder="enter your weight" />
                                                </div>


                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Eyes">Eyes:</label>
                                                    <select asp-for="Eyes" asp-items="Html.GetEnumSelectList<EyeEnum>()" class="form-control">
                                                    </select>
                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Hair">Hair:</label>
                                                    <select asp-for="Hair" asp-items="Html.GetEnumSelectList<HairEnum>()" class="form-control">
                                                    </select>
                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="BodyType">Body-Type:</label>
                                                    <select asp-for="BodyType" asp-items="Html.GetEnumSelectList<BodyTypeEnum>()" class="form-control">
                                                    </select>
                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="MaritalStatus">Marital Status:</label>
                                                    <select asp-for="MaritalStatus" asp-items="Html.GetEnumSelectList<MaritalStatusEnum>()" class="form-control">
                                                    </select>
                                                </div>


                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Profession">Profession:</label>
                                                    <input asp-for="Profession"
                                                           type="text"
                                                           class="form-control"
                                                           placeholder="enter your profession " />
                                                </div>


                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Interests">Interests:</label>
                                                    <input asp-for="Interests"
                                                           type="text"
                                                           class="form-control"
                                                           placeholder="enter your interests " />
                                                </div>


                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="Hobbies">Hobbies:</label>
                                                    <input asp-for="Hobbies"
                                                           type="text"
                                                           class="form-control"
                                                           placeholder="enter your hobbies " />
                                                </div>

                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="SocialMediaLink1">Facebook Link:</label>
                                                    <input asp-for="SocialMediaLink1"
                                                           type="url"
                                                           class="form-control"
                                                           placeholder="www.facebook.com/" />
                                                </div>


                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="SocialMediaLink2">Instagram Link:</label>
                                                    <input asp-for="SocialMediaLink2"
                                                           type="url"
                                                           class="form-control"
                                                           placeholder="www.instagram.com/" />
                                                </div>


                                                <div class="col-lg-6 mb-15">
                                                    <label asp-for="SocialMediaLink3">Twitter Link:</label>
                                                    <input asp-for="SocialMediaLink3"
                                                           type="url"
                                                           class="form-control"
                                                           placeholder="www.twitter.com/" />
                                                </div>


                                                <div class="col-lg-12 mb-15">
                                                    <label asp-for="AboutMe">Your Bio Here</label>
                                                    <textarea asp-for="AboutMe"
                                                              id="comments"
                                                              rows="4"
                                                              class="form-control"
                                                              placeholder="About Me :"></textarea>
                                                </div>
                                                <hr class="mt-100" />
                                                <input type="submit" name="submit" value="Save" class="update-button" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            @if (Model.Education.Count > 0)
                            {


                                @foreach (var edu in Model.Education)
                                {


                                    <div class="form-group add-edu" value="@edu.Id">
                                        <h2>@edu.Degree</h2>
                                        <input class="educationId" type="hidden" value="@edu.Id" disabled />
                                        <div class="all-edus ">
                                            <div class="new-edu">
                                                <label>University:</label>
                                                <input type="text"
                                               class="form-control mb-15"
                                               value="@edu.University"
                                               placeholder="University" disabled />
                                                <label>Degree:</label>
                                                <input type="text"
                                               class="form-control mb-15"
                                                value="@edu.Degree"
                                               placeholder="Ex: Bachelor's in CS" disabled />

                                                <div class="form-row">
                                                    <div class="col">
                                                        <label>From year:</label>
                                                        <input type="month" class="form-control" value="@edu.StudiedFrom" disabled />
                                                    </div>
                                                    <div class="col">
                                                        <label>To year (optional=present):</label>
                                                        <input type="month" class="form-control" value="@edu.StudiedTo" disabled />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                 

                                        <hr class="mt-100" />
                                        <input type="submit" name="delete-education "  value="Delete" class="update-button deletebtn" />
                                    </div>


                                }
                            }
                            <form method="post" id="educationForm">
                                <div class="form-group add-edu">
                                    <h2>Add Educations</h2>
                                    <div class="all-edus ">
                                        <div class="new-edu">
                                            <label>University:</label>
                                            <input type="text"
                                                   name="University"
                                                   class="form-control mb-15"
                                                   placeholder="University" required />
                                            <label>Degree:</label>
                                            <input type="text"
                                                   name="Degree"
                                                   class="form-control mb-15"
                                                   placeholder="Ex: Bachelor's in CS" required />

                                            <div class="form-row">
                                                <div class="col">
                                                    <label>From year:</label>
                                                    <input type="month" name="StudiedFrom" class="form-control" required />
                                                </div>
                                                <div class="col">
                                                    <label>To year (optional=present):</label>
                                                    <input type="month" name="StudiedTo" class="form-control" required />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <hr class="mt-100" />
                                        <input type="submit" name="delete-education" id="submit-Education" value="Save" class="update-button" />
                                </div>
                            </form>


                            @if (Model.Experience.Count > 0)
                            {


                                @foreach (var exp in Model.Experience)
                                {


                                    <div class="form-group add-edu" value="@exp.Id">
                                        <h2>@exp.Position</h2>
                                        <input class="educationId" type="hidden" value="@exp.Id" disabled />
                                        <div class="all-edus ">
                                            <div class="new-edu">
                                                <label>Place:</label>
                                                <input type="text"
                                               class="form-control mb-15"
                                               value="@exp.Place"
                                               placeholder="Work Place" disabled />
                                                <label>Position:</label>
                                                <input type="text"
                                               class="form-control mb-15"
                                               value="@exp.Position"
                                               placeholder="Ex: Accountant" disabled />

                                                <div class="form-row">
                                                    <div class="col">
                                                        <label>From year:</label>
                                                        <input type="month" class="form-control" value="@exp.WorkedFrom" disabled />
                                                    </div>
                                                    <div class="col">
                                                        <label>To year (optional=present):</label>
                                                        <input type="month" class="form-control" value="@exp.WorkedTo" disabled />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <hr class="mt-100" />
                                        <input type="submit" name="delete-education" value="Delete" class="update-button deleteExpBtn" />
                                    </div>


                                }
                            }




                            <div class="clearfix"></div>
                            <form method="post" id="experienceForm">
                                <div class="form-group add-edu">
                                    <h2>Add Experience</h2>
                                    <div class="all-edus ">
                                        <div class="new-edu">
                                            <label>Work Place:</label>
                                            <input type="text"
                                                   name="Place"
                                                   class="form-control mb-15"
                                                   placeholder="Work Place" required />
                                            <label>Position:</label>
                                            <input type="text"
                                                   name="Position"
                                                   class="form-control mb-15"
                                                   placeholder="Ex:Accountant" required />

                                            <div class="form-row">
                                                <div class="col">
                                                    <label>From year:</label>
                                                    <input type="month" name="WorkedFrom" class="form-control" required />
                                                </div>
                                                <div class="col">
                                                    <label>To year (optional=present):</label>
                                                    <input type="month" name="WorkedTo" class="form-control" required />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="mt-100" />
                                    <input type="submit" name="delete-Experience" id="submit-Experience" value="Save" class="update-button" />
                                </div>
                            </form>

                            <div class="clearfix"></div>

                            @*    <div class="form-group add-skill mt-s">
                            <h2>Add Skills</h2>
                            <div class="block-container">
                            <div class="all-skills">
                            <div class="new-skills">
                            <label>Skill</label>
                            <input type="text" name="skills[]" class="form-control" />
                            <label>Proficiency</label>
                            <input type="text" name="skills[]" class="form-control" />
                            </div>
                            </div>

                            <div class="add-blk add-skills btn btn-info mt-50">
                            <i class="fa fa-plus"></i>
                            <span>Add another Skill</span>
                            </div>
                            </div>
                            </div>
                            *@
                            <div class="clearfix"></div>



@*                            <div class="clearfix"></div>
*@
                            @*    <div class="form-group add-social mt-s">
                            <h2>Add Hoppies</h2>
                            <div class="block-container">
                            <div class="all-hoppies">
                            <div class="new-skills">
                            <label>Hoppy icon image (32px*32px)</label>
                            <input type="file" name="hoppies[]" class="form-control" />
                            </div>
                            </div>

                            <div class="add-blk add-hoppies btn btn-info mt-50">
                            <i class="fa fa-plus"></i>
                            <span>Add another Hoppy</span>
                            </div>
                            </div>
                            </div>
                            *@
                            @*<hr class="mt-100" />
                            <button type="submit" name="submit"  class="update-button">Save </button> *@



                            @*                            <div class="row no-gutters">
                            <div class="col-12 col-lg-7 col-xl-6">
                            <form id="passForm" enctype="multipart/form-data" asp-controller="Account" asp-action="Password" method="post" role="form">

                            <div class="row">
                            <div class="container-custom">

                            <div class="avatar-upload">
                            <div class="avatar-edit">
                            <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
                            <label for="imageUpload"></label>
                            </div>
                            <div class="avatar-preview">
                            <div id="imagePreview" style="background-image: url(http://i.pravatar.cc/500?img=7);">
                            </div>
                            </div>
                            </div>
                            </div>

                            </div>


                            <div class="row">
                            <div class="form-group col-md-6">
                            <label for="profile-first-name">First Name</label>
                            <input type="text" class="form-control" id="profile-first-name" placeholder="First Name">
                            </div>
                            <div class="form-group col-md-6">
                            <label for="profile-last-name">Last Name</label>
                            <input type="text" class="form-control" id="profile-last-name" placeholder="Last Name">
                            </div>
                            </div>
                            <div class="row">
                            <div class="form-group col-md-6">
                            <label for="profile-email">Email Address</label>
                            <input type="email" class="form-control" id="profile-email" placeholder="Email Address">
                            </div>
                            <div class="form-group col-md-6">
                            <label for="profile-phone">Phone Number</label>
                            <input type="text" class="form-control" id="profile-phone" placeholder="Phone Number">
                            </div>
                            </div>


                            <div class="form-group mt-5 mb-0">
                            <button class="btn btn-primary">Save</button>
                            </div>
                            </form>
                            </div>
                            </div>
                            *@
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


    <script src="~/frontendassets/js/editprofile.js"></script>
<script src="~/frontendassets/js/editexperience.js"></script>
<script src="~/frontendassets/js/deleteeducation.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
    //    $(document).on("click", ".deletebtn", function (e) {
           
    //        $(this).parent().css("display", "none");
    //       alert($(this).parent().attr('value'));

    //    });

        $(".allownumericwithdecimal").on("keypress keyup blur", function (event) {
            //this.value = this.value.replace(/[^0-9\.]/g,'');
            $(this).val($(this).val().replace(/[^0-9\.]/g, ''));
            if ((event.which != 46 || $(this).val().indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
                event.preventDefault();
            }
        });

        $(".allownumericwithoutdecimal").on("keypress keyup blur", function (event) {
            $(this).val($(this).val().replace(/[^\d].+/, ""));
            if ((event.which < 48 || event.which > 57)) {
                event.preventDefault();
            }
        });


        function readURL(input, image) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $(image).attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }


        $("#ImageFile").change(function () {
            readURL(this, ".img-Big");
            $(".img-Big").css("border", "none");
            $(this).removeClass('error');
        });

    });


</script>


